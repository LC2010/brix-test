<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Brix 正式项目使用 Demo</title>
        <link type="text/css" rel="stylesheet" href="http://a.tbcdn.cn/apps/e/brix/1.0/brix.css" charset="utf-8">
        <link type="text/css" rel="stylesheet" href="kwicks.css" charset="utf-8">
        <script src="http://a.tbcdn.cn/s/kissy/1.2.0/kissy.js"></script>
        <script src="http://a.tbcdn.cn/apps/e/brix/1.0/brix.js" bx-config="{componentsPath:'./',importsPath:'./'}"></script>
    </head>
    <body>
        
        
    </body>
    <script>
        KISSY.ready(function(S) {
            KISSY.use('brix/core/pagelet', function(S, Pagelet) {
                //获取坑模板
                var tmpl = S.one('#tmpl_script').html();
                //获取坑模板对应的真实模板和数据。
                var pageletTmplData = Brix.getPageletTmplData(tmpl);

                var pagelet = new Pagelet({
                    container:'body',
                    tmpl:pageletTmplData.tmpl,
                    data:pageletTmplData.data,
                    autoRender:true,
                    callback:function(){
                        S.one('.btn').on('click',function(){
                            pagelet.getBrick(S.all('.kwicks').item(0).attr('id')).destroy();
                        });
                    }
                });
                S.log(tmpl);
            });
        });
    </script>
    <script type="text/template" id="tmpl_script">
        <h2>项目components下的组件</h2>
        <h4>ext1</h4>
        <div id="example1">
            {{@components/kwicks/ext1/}}
        </div>
        <a href="#" class="btn">销毁</a>
        <h4>ext2</h4>
        <div id="example7">
            {{@components/kwicks/ext2/}}
        </div>
        <h2>项目imports下的组件</h2>
        <h4>ext1</h4>
        {{@imports/etao.ux.x2/breadcrumbs/ext1/}}
    </script>
</html>
